---
output: _output.yaml
---

## {data-background="stringr.png"}

## Connect With Us

<hr>

- Website     (https://www.rsquaredacademy.com/)
- Free Online R Courses   (https://rsquared-academy.thinkific.com/)
- R Packages  (https://pkgs.rsquaredacademy.com)
- Shiny Apps  (https://apps.rsquaredacademy.com)
- Blog        (https://blog.rsquaredacademy.com)
- GitHub      (https://github.com/rsquaredacademy)
- YouTube     (https://www.youtube.com/user/rsquaredin/)
- Twitter     (https://twitter.com/rsquaredacademy)
- Facebook    (https://www.facebook.com/rsquaredacademy/)
- Linkedin    (https://in.linkedin.com/company/rsquared-academy)

## Resources

<hr>

- <a href="https://slides.rsquaredacademy.com/mba/mba.html" target="_blank">Slides</a>
- <a href="https://github.com/rsquaredacademy-education/online-courses/tree/master/association-rule-mining-in-r" target="_blank">Code & Data</a>
- <a href="https://rstudio.cloud/project/335377" target="_blank">RStudio Cloud</a>

## {data-background="img/ws_agenda.png"}

<br>
<br>
<br>
<br>
<br>

- what are regular expressions?
- why use regular expression?
- what can you do with regular expressions?
	- find a word in a string
	- replace string
	- match a single character
	- match one of any of several letters
	- match series of range of characters

## {data-background="img/ws_section_intro.png"}

## Introduction

<hr>
 
## Libraries

<hr>

```{r install, eval=FALSE}
library(dplyr)
```

```{r str1, echo=FALSE, eval=TRUE, results='hide', message=FALSE}
library(dplyr)
```

## Top R Packages

<hr>

```{r top_downloads}
top_downloads <- c("devtools", "rlang", "dplyr", "Rcpp", "tibble",    
                   "ggplot2", "glue", "pillar", "cli", "data.table")

top_downloads
```

## grep

<hr>

<br>

```{r grep_index, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_grep_index_canva.png")
```

## grep - Value

<hr>

<br>

```{r grep_value, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_grep_value_canva.png")
```

## grep - Ignore Case

<hr>

<br>

```{r grep_ignore_case, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_grep_ignore_case_canva.png")
```

## grep - Invert

<hr>

<br>

```{r grep_invert, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_grep_invert_canva.png")
```

## grepl

<hr>

<br>

```{r grepl, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_grepl_canva.png")
```

## grepl - Ignore Case

<hr>

<br>

```{r grepl_ignore_case, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_grepl_ignore_case_canva.png")
```

## regexpr

<hr>

```{r regexpr}
r_packages <- c("purrr", "olsrr", "blorr")
regexpr("r", r_packages)
```

## gregexpr

<hr>

```{r gregexpr}
gregexpr("r", r_packages)
```

## regexec

<hr>

```{r regexec}
regexec("r", r_packages)
```

## sub

<hr>

<br>

```{r sub, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_sub_canva.png")
```

## gsub

<hr>

<br>

```{r gsub, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_gsub_canva.png")
```

## Anchors - Start

<hr>

<br>

```{r anchor_start}, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_anchor_start_canva.png")
```

## Anchors - Start (Ignore Case)

<hr>

<br>

```{r anchor_start_ignore_case, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_anchor_start_ignore_case_canva.png")
```

## Anchors - End

<hr>

<br>

```{r anchor_end, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_anchor_end_canva.png")
```

## Meta Characters

<hr>

<br>

```{r meta_characters, echo=FALSE, fig.align="center", out.width="50%"}
knitr::include_graphics("img/regex_meta_characters.png")
```

## Quantifiers - Dot

<hr>

<br>

```{r quantifier_dot, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_dot_canva.png")
```

## Quantifiers- ?

<hr>

<br>

```{r quantifier_mark_1, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_question_mark.png")
```

## Quantifiers -?

<hr>

<br>

```{r quantifier_mark_2, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_question_mark_2.png")
```

## Quantifiers - ?

<hr>

<br>

```{r quantifier_mark_3, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_question_mark_3.png")
```

## Quantifiers - ?

<hr>

<br>

```{r quantifier_mark_4, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_question_mark_4.png")
```

## Quantifiers - *

<hr>

<br>

```{r quantifier_star, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_star.png")
```

## Quantifiers - +

<hr>

<br>

```{r quantifier_plus, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_plus.png")
```

## Quantifiers - {n}

<hr>

<br>

```{r quantifier_exact_n_match, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_exact_n_match_canva.png")
```

## Quantifiers - {n, }

<hr>

<br>

```{r quantifier_match_one_or_more, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_match_one_or_more_canva.png")
```

## Quantifiers - {n, m}

<hr>

<br>

```{r quantifier_match_between, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_quantifier_match_between_canva.png")
```

## OR

<hr>

<br>

```{r or_round, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_or_round_bracket_canva.png")
```

## OR

<hr>

<br>

```{r or_square, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_or_square_bracket_canva.png")
```

## Digit

<hr>

<br>

```{r sequence_digit, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_match_digit.png")
```

## Non Digit

<hr>

<br>

```{r sequence_non_digit, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_match_non_digit.png")
```

## Space

<hr>

<br>

```{r sequence_space, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_match_space.png")
```

## Non Space

<hr>

<br>

```{r sequence_non_space, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_match_non_space.png")
```

## Word

<hr>

<br>

```{r sequence_word, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_match_word.png")
```

## Non Word

<hr>

<br>

```{r sequence_non_word, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_match_non_word.png")
```

## Word Boundary

<hr>

<br>

```{r word_boundary_1, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_word_boundary_1.png")
```

## Word Boundary

<hr>

<br>

```{r word_boundary_2, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_word_boundary_2.png")
```

## Word Boundary

<hr>

<br>

```{r word_boundary_3, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_word_boundary_3.png")
```

## Word Boundary

<hr>

<br>

```{r word_boundary_4, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_word_boundary_4.png")
```

## Word Boundary

<hr>

<br>

```{r word_boundary_5, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_word_boundary_5.png")
```

## Character Classes

<hr>

<br>

```{r character_class_numbers, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/regex_character_class_numbers.png")
```

## Blood Group

<hr>

- four main blood groups: A, B, AB, O
- each group can be either RhD+ or RhD-
- there a 8 main blood groups
- it has to start with A, B, AB or O
- end with -,+

## Blood Group

<hr>

- ^           # Assert position at the beginning of the string
- (A|B|AB|O)  # Match A, B, AB or O
- (-|+)       # Match - or +
- $           # Assert position at the end of the string

## Blood Group

<hr>

```{r blood_group}
blood_pattern <- "^(A|B|AB|O)[-|+]$"
blood_sample <- c("A+", "C-", "AB+")
grep(x = blood_sample, pattern = blood_pattern, value = TRUE)
```

## email id

<hr>

- start with alphabets or numbers
- can inclide _ or -
- end with alphabets or numbers 
- followed by @
- domain name can include alphabets/number/-
- followed by .
- end with alphabets

## email id

<hr>

- ^
- [a-zA-z0-9-_]
- +
- @
- [a-zA-z0-9-]
- +
- .
- [a-z]

## email id

<hr>

```{r email_validation}
email_pattern <- "^[a-zA-Z0-9\\!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\\.[a-z]"
emails <- c("test9+_A@test.com", "test@test..com", "test-test.com")
grep(x = emails, pattern = email_pattern, value = TRUE)
```

##  PAN Number Validation

<hr>

- length 10 
- alpha-numeric
- first 3 characters (AAA to ZZZ)
- fourth character (A, B, C, F, G, H, L, J, P, T, E)
- fifth character- first letter of holders last/surname
- next four (0001 - 9999) (numerals)
- last character alphabet

##  PAN Number Validation

<hr>

```{r pan_validation}
pan_pattern <- "^[A-Z]{3}(A|B|C|F|G|H|L|J|P|T|E)[A-Z][0-9]{4}[A-Z]"
my_pan <- c("AJKNT3865H", "AJKNT38655", "A2KNT3865H", "AJKDT3865H")
grep(x = my_pan, pattern = pan_pattern, value = TRUE)
```

##  GST Number Validation

<hr>

- 15 digits
- first 2 digits (01-35) indicate state code
- next 10 digits are pan number
- 13th digit is entity code (>=1)
- 14th digit is Z
- 15th digit is a random single digit number or alphabet

##  GST Number Validation

<hr>

```{r gst_validation}
gst_pattern <- "[0-3][1-5][A-Z]{3}(A|B|C|F|G|H|L|J|P|T|E)[A-Z][0-9]{4}[A-Z][1-9]Z[0-9A-Z]"
sample_gst <- c("22AAAAA0000A1Z5", "22AAAAA0000A1Z", "42AAAAA0000A1Z5",
                "38AAAAA0000A1Z5", "22AAAAA0000A0Z5", "22AAAAA0000A1X5",
                "22AAAAA0000A1Z$")
grep(x = sample_gst, pattern = gst_pattern, value = TRUE)
```

## Other Applications

<hr>

- R variable names
- R file names and extensions
- password validation
- camelcase
- currency format
- date of birth
- date validation
- decimal number
- full name / first name
- html tags
- https url 
- phone number 
- ip address 
- month name

## Summary 

<hr>

## References

<hr>

- https://www.rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf
- https://stringr.tidyverse.org/articles/regular-expressions.html
- https://r4ds.had.co.nz/strings.html
- https://github.com/rstudio/cheatsheets/blob/master/strings.pdf
- https://www.garrickadenbuie.com/project/regexplain/

## {data-background="img/thankyou.png"}
