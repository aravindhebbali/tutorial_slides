---
output: _output.yaml
---

## {data-background="import.png"}

## Agenda

<hr>

Read data from

- XML
- JSON

## Libraries

<hr>

```{r importlib1,eval=FALSE}
library(jsonlite)
library(xml2)
library(XML)
```

```{r importlib2, echo=FALSE, eval=TRUE, results='hide', message=FALSE}
library(jsonlite)
library(xml2)
library(XML)
```

## {data-background="json.png"}

## JSON

<hr>

```{r imp1}
jsonlite::fromJSON('mtcars.json')
```

## {data-background="xml.png"}

## XML

<hr>

- `xmlParse()`: parse xml data
- `class()`: class 
- `xmlRoot()`: root node
- `xmlChildren()`: child nodes
- get child node names
- get child node XML values
- `getNodeSet()`: get particular node value
- `xmlToDataFrame()`: coerce to data.frame 


## Read Data

<hr>

```{r imp2}
xm <- xmlParse("sample_xml")
```

## Class

<hr>

```{r imp3}
class(xm)
```

## Root Node

<hr>

```{r imp4}
xmlRoot(xm)
```

## Child Nodes

<hr>

```{r imp5}
c_child <- xmlChildren(xm)
```

## Child Node

<hr>

```{r imp6}
c_child[[1]]
```

## Child Node

<hr>

```{r imp7}
c_child[[1]][1]
```

## Node Name

<hr>

```{r imp9}
sapply(c_child[[1]][1], names)
```

## Node Value

<hr>

```{r imp10}
sapply(c_child[[1]][1], xmlValue)
```

## XML

<hr>

```{r imp11}
getNodeSet(xm, "//book")
```

## XML

<hr>

```{r imp12}
getNodeSet(xm, "//author")
```

## Dataframe

<hr>

```{r imp13}
j <- xmlToDataFrame(
  getNodeSet(xm, "//book")
)
j
```

## XML (Web)

<hr>

```{r xmlread, eval=TRUE}
xml2::read_xml("http://www.xmlfiles.com/examples/cd_catalog.xml")
```

## HTML

<hr>

```{r imp14}
xml2::read_html("http://r-project.org/")
```

## {data-background="thankyou.png"}

<!-- To do: -->
<!--   - add json data structure -->
<!--   - add XML data structure -->
<!--   - change html example -->
<!--   - add xml workflow diagram -->
<!--   - use this example: https://www.w3schools.com/xml/dom_nodes.asp -->
<!--   - try xml2 as well -->