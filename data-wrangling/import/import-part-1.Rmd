---
title: "Importing Data into R: Part - 1"
output: 
  revealjs::revealjs_presentation:
    transition: slide
    incremental: true
    theme: default
    highlight: haddock
    center: false
    reveal_options:
      slideNumber: true
      previewLinks: true
---

<style type="text/css">
  .reveal p {
    text-align: left;
    font-size: 20px;
  }
  .reveal body:after {
    content: url(handshake.png);
    position: fixed;
    bottom: 3.5em;
    left: 3.5em;
    box-shadow: 5px 5px 10px #000; 
  }
  .reveal hr {
    border-color: #0077aa;
  }
  .reveal h1, h2, h3, h4, h5, h6 {
    text-transform: capitalize;
    text-align: center;
    color: #0077aa;
    font-family: 'Helvetica Neue';
  }
  .reveal ul {
    display: block;
  }
  .reveal ul li {
    color: #3c3c3c; 
    /* set color of list item text */
    list-style: none; 
  }

  .reveal ul li::before {
      color: #006b6e;  
      /* color of bullet or square */
      content: "\2022"; 
      /* Unicode of character to precede the list item */
      font-size: 1em; 
      /* em or %*/ 
      padding-right: 1.1225em; 
      /* use em*/
      position: relative;
      top: 0em; 
      /* use em or % */
  }
  .reveal ul {
    line-height:150%
  }
  .reveal .fragment {
    font-size: 20px;
  }
  .reveal ol {
    display: block;
  }
</style>

## Agenda

<hr>

read data from delimited files

  - csv
  - tsv
  - txt

## Introdction

<hr>

Importing data is the first step in any data analysis workflow. If you cannot import data from differernt sources or file formats, you cannot proceed with data analysis. R allows you to import data from several sources and a variety of file formats. In this module, we will focus on different file formats.

## Libraries

<hr>

```{r importlib1,eval=FALSE}
library(readr)
```

```{r importlib2, echo=FALSE, eval=TRUE, results='hide', message=FALSE}
library(readr)
```


## CSV 

<hr>

`.csv` files can be read using any of the following:

- `read.csv()`
- `read_csv()`
- `read_delim()`

## Options

<hr>

Key arguments to be specified while reading files

- `col_names`
- `skip`
- `n_max`
- `col_types`

## Base R

<hr>

```{r import1}
read.csv('hsb2.csv', header = TRUE)
```

## readr

<hr>

```{r import2, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv')
```

## Delimiter 

<hr>

```{r import3, echo=TRUE, results='markup', message=FALSE}
read_delim('hsb2.csv', delim = ',')
```

## Column Names 

<hr>

```{r import4, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', col_names = FALSE)
```

## Skip Lines 

<hr>

```{r import6, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', skip = 5)
```

## Maximum Lines 

<hr>

```{r import8, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', n_max = 50)
```


## Column Types 

<hr>

```{r import10, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', col_types = list(col_integer(), col_factor(levels = c(0, 1)), 
  col_factor(levels = c(1, 2, 3, 4)), col_factor(levels = c(1, 2, 3)), 
  col_factor(levels = c(1, 2)), col_factor(levels = c(1, 2, 3)),
  col_integer(), col_integer(), col_integer(), col_integer(), col_integer())            
)
```

## Read Specific Columns 

<hr>

```{r import11, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', col_types = cols_only(id = col_integer(),
  prog = col_factor(levels = c(1, 2, 3)), read = col_integer())
)
```

## Column Types

<hr>

```{r import55, echo=TRUE, results='markup', message=FALSE}
spec_csv('hsb2.csv')
```

## Semicolon Separated Values

<hr>

- `read.csv2()`
- `read_csv2()`
- `read_delim()`

## Base R

<hr>

```{r import20, echo=TRUE, results='markup', message=FALSE}
read.csv2('hsb.csv', header = TRUE)
```

## readr

<hr>

```{r import21, echo=TRUE, results='markup', message=FALSE}
read_csv2('hsb.csv')
```

## readr

<hr>

```{r import22, echo=TRUE, results='markup', message=FALSE}
read_delim('hsb.csv', delim = ';')
```

## Options

<hr>

```{r import23, echo=TRUE, results='markup', message=FALSE}
read_csv2('hsb.csv', col_names = FALSE, skip = 5, n_max = 50)
```

## Options

<hr>

```{r import24, echo=TRUE, results='markup', message=FALSE}
read_delim('hsb.csv', delim = ';', col_names = FALSE, skip = 5, n_max = 50)
```

## Column Types

<hr>

```{r import29, echo=TRUE, results='markup', message=FALSE}
read_csv2('hsb.csv', col_types = list(col_integer(), 
  col_factor(levels = c(0, 1)), col_factor(levels = c(1, 2, 3, 4)), 
  col_factor(levels = c(1, 2, 3)), col_factor(levels = c(1, 2)), 
  col_factor(levels = c(1, 2, 3)), col_integer(), col_integer(), 
  col_integer(), col_integer(), col_integer())            
)
```

## Read Specific Columns

<hr>

```{r import30, echo=TRUE, results='markup', message=FALSE}
read_csv2('hsb.csv', col_types = cols_only(id = col_integer(),
  prog = col_factor(levels = c(1, 2, 3)), read = col_integer())
)
```

## Tab Separated Values

<hr>

- `read.delim()`
- `read.table()`
- `read_tsv()`
- `read_delim()`

## Base R

<hr>

```{r import31}
read.delim('mtcars.tsv', dec = '.')  
```

## Base R

<hr>

```{r import32}
read.table('mtcars.tsv', sep = '\t', header = TRUE, dec = '.')
```

## readr

<hr>

```{r import33, echo=TRUE, results='markup', message=FALSE}
read_tsv('mtcars.tsv')
```

## readr

<hr>

```{r import34, echo=TRUE, results='markup', message=FALSE}
read_delim('mtcars.tsv', delim = '\t')
```

## Options

<hr>

```{r import35, echo=TRUE, results='markup', message=FALSE}
read_tsv('mtcars.tsv', col_names = FALSE, skip = 5, n_max = 50)
```

## Options

<hr>

```{r import36, echo=TRUE, results='markup', message=FALSE}
read_delim('mtcars.tsv', delim = '\t', col_names =  FALSE, 
  skip = 5, n_max = 50)
```

## Column Types

<hr>

```{r import41, echo=TRUE, results='markup', message=FALSE}
read_tsv('mtcars.tsv', col_types = list(col_double(), 
  col_factor(levels = c(4, 6, 8)), col_double(), col_double(), col_double(), 
  col_double(), col_double(), col_factor(levels = c(0, 1)), 
  col_factor(levels = c(0, 1)), col_factor(levels = c(3, 4, 5)), 
  col_factor(levels = c(1, 2, 3, 4, 6, 8)))            
)
```

## Read Specific Columns

<hr>

```{r import42, echo=TRUE, results='markup', message=FALSE}
read_tsv('mtcars.tsv', col_types = cols_only(mpg = col_double(),
  cyl = col_factor(levels = c(4, 6, 8)), disp = col_double(),
  gear = col_factor(levels = c(3, 4, 5)))
)
```

## Space Separated Values

<hr>

- `read.table()`
- `read_table2()`

## Base R

<hr>

```{r import43}
read.table('hsb1.csv', header = TRUE, sep = " ")
```

## readr

<hr>

```{r import45, echo=TRUE, results='markup', message=FALSE}
read_table2('hsb1.csv')
```

## Options

<hr>

```{r import46, echo=TRUE, results='markup', message=FALSE}
read_table2('hsb1.csv', col_names = FALSE, skip = 5, n_max = 50)
```

## Column Types

<hr>

```{r import49, echo=TRUE, results='markup', message=FALSE}
read_table2('hsb1.csv', col_types = list(col_integer(), 
  col_factor(levels = c(0, 1)), col_factor(levels = c(1, 2, 3, 4)), 
  col_factor(levels = c(1, 2, 3)), col_factor(levels = c(1, 2)), 
  col_factor(levels = c(1, 2, 3)), col_integer(), col_integer(), 
  col_integer(), col_integer(), col_integer())            
)
```

## Read Specific Columns

<hr>

```{r import50, echo=TRUE, results='markup', message=FALSE}
read_table2('hsb1.csv', col_types = cols_only(id = col_integer(),
  prog = col_factor(levels = c(1, 2, 3)), read = col_integer())
)
```

## Text Files

<hr>

## readr

<hr>

```{r import54, echo=TRUE, results='markup', message=FALSE}
read_table2('hsb.txt') 
```


## Questions

<hr>

## Thank You

<hr>