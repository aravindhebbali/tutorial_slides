---
output: _output.yaml
---

## {data-background="import.png"}

## Agenda

<hr>

Importing data is the first step in any data analysis workflow. If you cannot import data from differernt sources or file formats, you cannot proceed with data analysis. R allows you to import data from several sources and a variety of file formats. In this module, we will focus on 

  - csv
  - tsv
  - txt

## Libraries

<hr>

```{r importlib1,eval=FALSE}
library(readr)
```

```{r importlib2, echo=FALSE, eval=TRUE, results='hide', message=FALSE}
library(readr)
```

## CSV 

<hr>

- `read.csv()`
- `read_csv()`
- `read_delim()`

## Options

<hr>

- `col_names`
- `skip`
- `n_max`
- `col_types`

## Base R

<hr>

```{r import1}
read.csv('hsb2.csv', header = TRUE)
```

## readr

<hr>

```{r import2, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv')
```

## Delimiter 

<hr>

```{r import3, echo=TRUE, results='markup', message=FALSE}
read_delim('hsb2.csv', delim = ',')
```

## Column Names 

<hr>

```{r import4, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', col_names = FALSE)
```

## Skip Lines 

<hr>

```{r import6, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', skip = 5)
```

## Maximum Lines 

<hr>

```{r import8, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', n_max = 50)
```


## Column Types 

<hr>

```{r import10, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', col_types = list(col_integer(), col_factor(levels = c(0, 1)), 
  col_factor(levels = c(1, 2, 3, 4)), col_factor(levels = c(1, 2, 3)), 
  col_factor(levels = c(1, 2)), col_factor(levels = c(1, 2, 3)),
  col_integer(), col_integer(), col_integer(), col_integer(), col_integer())            
)
```

## Read Specific Columns 

<hr>

```{r import11, echo=TRUE, results='markup', message=FALSE}
read_csv('hsb2.csv', col_types = cols_only(id = col_integer(),
  prog = col_factor(levels = c(1, 2, 3)), read = col_integer())
)
```

## Column Types

<hr>

```{r import55, echo=TRUE, results='markup', message=FALSE}
spec_csv('hsb2.csv')
```

## Semicolon Separated Values

<hr>

- `read.csv2()`
- `read_csv2()`
- `read_delim()`

## Base R

<hr>

```{r import20, echo=TRUE, results='markup', message=FALSE}
read.csv2('hsb.csv', header = TRUE)
```

## readr

<hr>

```{r import23, echo=TRUE, results='markup', message=FALSE}
read_csv2('hsb.csv', col_names = FALSE, skip = 5, n_max = 50)
```

## Tab Separated Values

<hr>

- `read.delim()`
- `read.table()`
- `read_tsv()`
- `read_delim()`

## Base R

<hr>

```{r import31}
read.delim('mtcars.tsv', dec = '.')  
```

## Base R

<hr>

```{r import32}
read.table('mtcars.tsv', sep = '\t', header = TRUE, dec = '.')
```

## readr

<hr>

```{r import35, echo=TRUE, results='markup', message=FALSE}
read_tsv('mtcars.tsv', col_names = FALSE, skip = 5, n_max = 50)
```

## Space Separated Values

<hr>

- `read.table()`
- `read_table2()`

## Base R

<hr>

```{r import43}
read.table('hsb1.csv', header = TRUE, sep = " ")
```

## readr

<hr>

```{r import46, echo=TRUE, results='markup', message=FALSE}
read_table2('hsb1.csv', col_names = FALSE, skip = 5, n_max = 50)
```

## Text Files

<hr>

```{r import54, echo=TRUE, results='markup', message=FALSE}
read_table2('hsb.txt') 
```


## Summary

<hr>

- `read_csv()`
- `read_delim()`
- `spec_csv()`
- `read_csv2()`
- `read_tsv()`
- `read_table2()`

## {data-background="thankyou.png"}

<!-- To do: -->
<!--   - improve agenda -->
<!--   - outline functions and options in a table -->
