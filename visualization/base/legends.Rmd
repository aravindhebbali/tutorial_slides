---
title: "Legends"
output: 
  revealjs::revealjs_presentation:
    transition: slide
    incremental: true
    theme: default
    highlight: haddock
    center: false
    reveal_options:
      slideNumber: true
      previewLinks: true
    fig_height: 5
    fig_width: 6
---

<style type="text/css">
    .reveal p img {
    align: middle;
  }
  .reveal code.r {
    font-size: 16px;
  }
  .reveal p {
    text-align: left;
    font-size: 20px;
  }
  .reveal body:after {
    content: url(handshake.png);
    position: fixed;
    bottom: 3.5em;
    left: 3.5em;
    box-shadow: 5px 5px 10px #000; 
  }
  .reveal hr {
    border-color: #0077aa;
  }
  .reveal h1, h2, h3, h4, h5, h6 {
    text-transform: none;
    text-align: center;
    color: #0077aa;
    font-family: 'Helvetica Neue';
    font-size: 25px;
  }
  .reveal h1 {
    font-size: 24px;
  }
  .reveal ul {
    display: block;
  }
  .reveal ul li {
    color: #3c3c3c; 
    /* set color of list item text */
    list-style: none; 
  }
  .reveal p img {
    align: middle;
  }
  .reveal ul li::before {
      color: #006b6e;  
      /* color of bullet or square */
      content: "\2022"; 
      /* Unicode of character to precede the list item */
      font-size: 1em; 
      /* em or %*/ 
      padding-right: 1.1225em; 
      /* use em*/
      position: relative;
      top: 0em; 
      /* use em or % */
  }
  .reveal ul {
    line-height:150%
  }
  .reveal .fragment {
    font-size: 20px;
  }
  .reveal ol {
    display: block;
  }
</style>

## Agenda

<hr>

Learn to add legend to a plot using the `legend()` function. Specifically

- position the legend within the plot
- modify the layout using `ncol` and `horiz` arguments
- add title using the `title.` set of arguments
- modify the appearance and position of the legend box
- modify the appearance of the text in the legend box
  

## Introduction

<hr>

```{r compare, fig.align='center', fig.width= 10, fig.height=7, echo=FALSE}
init <- par(no.readonly = TRUE)
par(mfrow = c(1, 2))
year <- seq(2010, 2014, 1)
india <- c(10.3, 6.6, 5.6, 6.6, 7.2)
china <- c(10.6, 9.5, 7.8, 7.7, 7.3)
russia <- c(4.5, 4.3, 3.5, 1.3, 0.7)
brazil <- c(7.5, 3.9, 1.9, 3.0, 0.1)
s_africa <- c(3.2, 3.2, 2.2, 2.2, 1.5)
gdp <- data.frame(year, india, china, russia, brazil, s_africa, stringsAsFactors = FALSE)
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 14, legend = c('india', 'china'), lty = 1, col = c('blue', 'red'))}
```


## Data

<hr>

```{r}
year <- seq(2010, 2014, 1)
india <- c(10.3, 6.6, 5.6, 6.6, 7.2)
china <- c(10.6, 9.5, 7.8, 7.7, 7.3)
russia <- c(4.5, 4.3, 3.5, 1.3, 0.7)
brazil <- c(7.5, 3.9, 1.9, 3.0, 0.1)
s_africa <- c(3.2, 3.2, 2.2, 2.2, 1.5)
gdp <- data.frame(year, india, china, russia, brazil, s_africa, stringsAsFactors = FALSE)
gdp
```

## Line Graph

<hr>

```{r line1, fig.align='center', fig.width= 7, fig.height=5}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
lines(gdp$year, gdp$russia, col = 'green')
lines(gdp$year, gdp$brazil, col = 'yellow')
lines(gdp$year, gdp$s_africa, col = 'violet')}
```

## Legend Location

<hr>

- use x and y axis coordinates
- use keywords
    - top
    - bottom
    - left
    - right
    - center
    - bottomright
    - bottomleft
    - topright
    - topleft

## Legend Location

<hr>

```{r leg1, fig.align='center', fig.height=5, fig.width=5}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2013, y = 14, legend = c('india', 'china'))}
```

## Legend Location

<hr>

```{r leg2, fig.align='center', fig.width=10, fig.height=7, echo=FALSE}
init <- par(no.readonly = TRUE)
par(mfrow = c(3, 3))
values <- c('top', 'bottom', 'left', 'right', 'center',
            'bottomright', 'bottomleft', 'topright', 'topleft')
for (i in values) {
  plot(gdp$year, gdp$india, type = 'l',
      ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue',
      main = 'BRICS: Growth Rate')
  lines(gdp$year, gdp$china, col = 'red')
  legend(x = i, legend = c('india', 'china'))
  mtext(paste("x = ", i), side = 3, col = "blue")
}
```

## Lines

<hr>

```{r leg3, fig.align='center', fig.height=5, fig.width=5}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 14, legend = c('india', 'china'), lty = 1, col = c('blue', 'red'))}
```

## Points

<hr>

```{r leg4, fig.align='center', fig.height=5, fig.width=5}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
points(gdp$year, gdp$india, pch = 2, col = 'blue')
lines(gdp$year, gdp$china, col = 'red')
points(gdp$year, gdp$china, pch = 2, col = 'red')
legend(x = 2012, y = 14, legend = c('india', 'china'), lty = 1, pch = 2, col = c('blue', 'red'))}
```

## Text Placement

<hr>

```{r leg5, fig.align='center', fig.height=4, fig.width=6}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2011, y = 14, legend = c('india', 'china'), 
      lty = 1, col = c('blue', 'red'), horiz = TRUE)}
```

## Text Placement

<hr>

```{r leg6, fig.align='center', fig.width= 6, fig.height=4}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 25), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
lines(gdp$year, gdp$russia, col = 'green')
lines(gdp$year, gdp$brazil, col = 'yellow')
legend(x = 2012, y = 20, legend = c('india', 'china', 'russia', 'brazil'),
       lty = 1, col = c('blue', 'red', 'green', 'yellow'), ncol = 2)}
```

## Text Placement

<hr>

```{r leg7, fig.align='center', fig.width=15, fig.height=10, echo=FALSE}
init <- par(no.readonly = TRUE)
par(mfrow = c(2, 2))
values <- c(1, 2, 3, 4)
for (i in values) {
  plot(gdp$year, gdp$india, type = 'l',
      ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue',
      main = 'BRICS: Growth Rate')
  lines(gdp$year, gdp$china, col = 'red')
  lines(gdp$year, gdp$russia, col = 'green')
  lines(gdp$year, gdp$brazil, col = 'yellow')
  legend(x = 2010, y = 0, legend = c('india', 'china', 'russia','brazil'),
       lty = 1, col = c('blue', 'red', 'green', 'yellow'),
       ncol = i)
  mtext(paste("ncol = ", i), side = 3, col = "blue")
}
```

## Title

<hr>

```{r leg8, fig.align='center', fig.height=4, fig.width=6}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 14, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), title = 'Nations')}
```

## Title Color

<hr>

```{r leg9, fig.align='center', fig.height=4, fig.width=6}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 3, legend = c('india', 'china'), lty = 1, 
      col = c('blue', 'red'), title = 'Nations', title.col = 'red')}
```

## Title Position

<hr>

```{r leg10, fig.align='center', fig.height=4, fig.width=6}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 3, legend = c('india', 'china'), lty = 1, 
      col = c('blue', 'red'), horiz = TRUE, title = 'Nations', title.adj = 0.1)}
```

## Title Position

<hr>

```{r leg11, fig.align='center', fig.width=15, fig.height=10, echo=FALSE}
init <- par(no.readonly = TRUE)
par(mfrow = c(2, 2))
values <- c(0.2, 0.4, 0.6, 0.8)
for (i in values) {
  plot(gdp$year, gdp$india, type = 'l',
      ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue',
      main = 'BRICS: Growth Rate')
  lines(gdp$year, gdp$china, col = 'red')
  legend(x = 2010, y = 0, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), horiz = TRUE,
       title = 'Nations', title.adj = i)
  mtext(paste("title.adj = ", i), side = 3, col = "blue")
}
```

## Box Appearance

<hr>

```{r kable, echo=FALSE}
option <- c('Box Type', 'Background Color', 'Border Line Type',
            'Border Line Width', 'Border Line Color', 
            'Horizontal Justification', 'Vertical Justification',
            'Text Color', 'Text Font')
argument <- c('bty', 'bg', 'box.lty', 'box.lwd', 'box.col',
              'xjust', 'yjust', 'text.col', 'text.font')
values <- c('o, n', 'blue, #0000ff', '1:5', '0.5, 1, 1.5',
            'blue, #0000ff', '0:1', '0:1', 'blue, #0000ff',
            '1:5')
legend <- data.frame(option, argument, values)
knitr::kable(legend, format = "markdown", caption = "Legend Box Options")
```

## Box Type

<hr>

```{r leg12, fig.align='center', fig.width=10, fig.height=5, echo=FALSE}
init <- par(no.readonly = TRUE)
par(mfrow = c(1, 2))
values <- c('o', 'n')
for (i in values) {
  plot(gdp$year, gdp$india, type = 'l',
      ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue',
      main = 'BRICS: Growth Rate')
  lines(gdp$year, gdp$china, col = 'red')
  legend(x = 2012, y = 0, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), bty = i,
       title = 'Nations')
  mtext(paste("bty = ", i), side = 3, col = "blue")
}
```

## Background Color

<hr>

```{r leg13, fig.align='center', fig.height=4, fig.width=6}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-8, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 3, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), bg = '#ffff66', title = 'Nations')}
```

## Border

<hr>

The following arguments can be used to modify the border of the legend box:

- `box.lty`: line type
- `box.lwd`: line width
- `box.col`: color

## Border

<hr>

```{r leg14, fig.align='center', fig.height=4, fig.width=6}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-8, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 3, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), title = 'Nations',
       box.lty = 3, box.lwd = 1.5, box.col = 'green')}
```

## Justification

<hr>

The `xjust` and `yjust` arguments can be used to position the legend relative to the **X** and **Y** axis respectively. Listed below is the value and the respective justification:

- `0`: left justified
- `0.5`: centered
- `1`: right justified

## Horizontal Justification

<hr>
 
```{r leg15, fig.align='center', fig.width=10, fig.height=7, echo=FALSE}
init <- par(no.readonly = TRUE)
par(mfrow = c(1, 3))
values <- c(0, 0.5, 1)
for (i in values) {
  plot(gdp$year, gdp$india, type = 'l',
      ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue',
      main = 'BRICS: Growth Rate')
  lines(gdp$year, gdp$china, col = 'red')
  legend(x = 2012, y = 0, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), xjust = i,
       title = 'Nations')
  mtext(paste("xjust = ", i), side = 3, col = "blue")
}
```

## Vertical Justification

<hr>

```{r leg16, fig.align='center', fig.width=10, fig.height=7, echo=FALSE}
init <- par(no.readonly = TRUE)
par(mfrow = c(1, 3))
values <- c(0, 0.5, 1)
for (i in values) {
  plot(gdp$year, gdp$india, type = 'l',
      ylim = c(-5, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue',
      main = 'BRICS: Growth Rate')
  lines(gdp$year, gdp$china, col = 'red')
  legend(x = 2012, y = 0, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), yjust = i,
       title = 'Nations')
  mtext(paste("xjust = ", i), side = 3, col = "blue")
}
```


## Text Appearance

<hr>

```{r leg17, fig.align='center', fig.height=4, fig.width=6}
{plot(gdp$year, gdp$india, type = 'l', ylim = c(-8, 15), xlab = 'Year',
      ylab = 'Growth Rate', col = 'blue', main = 'BRICS: Growth Rate')
lines(gdp$year, gdp$china, col = 'red')
legend(x = 2012, y = 3, legend = c('india', 'china'),
       lty = 1, col = c('blue', 'red'), title = 'Nations',
       text.col = 'green', text.font = 3)}
```

## Questions

<hr>

## Thank You

<hr>
